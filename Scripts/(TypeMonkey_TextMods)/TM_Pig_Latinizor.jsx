/*	TM_Pig_Latinizor.jsx	Copyright (c) 2013 Lloyd Alvarez	http://aescripts.com	Revision History	----------------	v1_0	initial release*/function TM_ConvertText (text){            function makePigLatin(word) {                var firstVowelPosition = word.length;                var vowels = new Array("a", "e", "i", "o", "u", "y");                var b,s,e,end;                if (word[0].match(/^(\[|\{)/)) {                    s=1;                    b=word[0];                    word = word.split("");                    word.shift();                    word=word.join("");                    } else {                        s=0;                        b="";                        }                                    if  (word[word.length-1].match(/(\]|\})$/)) {                   end = word.length -1;                   e = word[word.length-1];                   word = word.split("");                   word.pop();                   word=word.join("");                    } else {                     end = word.length;                     e="";                        }                for (var v=s; v < end; v++) {                    l = vowels[v];                    if (word.toLowerCase().indexOf(l) < firstVowelPosition && word.toLowerCase().indexOf(l) != -1) {                        firstVowelPosition = word.toLowerCase().indexOf(l);                    }                }                             return  b + word.substring(firstVowelPosition, word.length) +                        word.substring(0, firstVowelPosition) +                        "ay" + e;            }            var sentence = text.replace(/[^\s](\[|\{)/g," $1").replace(/(\}|\})[^\s]/g,"$1 ");            var pigSentence = "";            var splitSentence = sentence.split(" ");            for (i=0; i<splitSentence.length; i++) {                pigSentence += makePigLatin(splitSentence[i]) + " ";            }                         return (pigSentence);              } //piglatinizor